<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jetgpio: jetgpio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jetgpio
   &#160;<span id="projectnumber">0.96</span>
   </div>
   <div id="projectbrief">Library to manage the Jetson Nano gpio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('jetgpio_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">jetgpio.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/fcntl.h&gt;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/file.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/poll.h&gt;</code><br />
<code>#include &lt;linux/i2c-dev.h&gt;</code><br />
<code>#include &lt;linux/i2c.h&gt;</code><br />
<code>#include &lt;linux/spi/spidev.h&gt;</code><br />
<code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;linux/gpio.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &quot;<a class="el" href="jetgpio_8h_source.html">jetgpio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for jetgpio.c:</div>
<div class="dyncontent">
<div class="center"><img src="jetgpio_8c__incl.png" border="0" usemap="#jetgpio_8c" alt=""/></div>
<map name="jetgpio_8c" id="jetgpio_8c">
<area shape="rect" id="node21" href="jetgpio_8h.html" title="jetgpio.h" alt="" coords="1971,80,2042,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a80d84e5dd32fd8ec04cb0370eab0a5b0">gpioInitialise</a> (void)</td></tr>
<tr class="memdesc:a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the library. gpioInitialise must be called before using the other library functions, it stores the status of all the relevant registers before using/modifying them.  <a href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">More...</a><br /></td></tr>
<tr class="separator:a80d84e5dd32fd8ec04cb0370eab0a5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404d80a9a9292869c1a2b86f183b3774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a404d80a9a9292869c1a2b86f183b3774">gpioTerminate</a> (void)</td></tr>
<tr class="memdesc:a404d80a9a9292869c1a2b86f183b3774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the library. This function restores the used registers to their previous state and releases memory.  <a href="#a404d80a9a9292869c1a2b86f183b3774">More...</a><br /></td></tr>
<tr class="separator:a404d80a9a9292869c1a2b86f183b3774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab343b74f5cb62baaaded18e4ff1ed939"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a> (unsigned gpio, unsigned mode)</td></tr>
<tr class="memdesc:ab343b74f5cb62baaaded18e4ff1ed939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the GPIO mode, typically input or output.  <a href="#ab343b74f5cb62baaaded18e4ff1ed939">More...</a><br /></td></tr>
<tr class="separator:ab343b74f5cb62baaaded18e4ff1ed939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754d22c52d797f32f02c86863496b0ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a754d22c52d797f32f02c86863496b0ec">gpioRead</a> (unsigned gpio)</td></tr>
<tr class="memdesc:a754d22c52d797f32f02c86863496b0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the GPIO level, on or off, 0 or 1. Arduino style: digitalRead. Wheter a pin has been set as input or output it can be read with this function.  <a href="#a754d22c52d797f32f02c86863496b0ec">More...</a><br /></td></tr>
<tr class="separator:a754d22c52d797f32f02c86863496b0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ec7e76572f925b9e206018fd5d22e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a15ec7e76572f925b9e206018fd5d22e9">gpioWrite</a> (unsigned gpio, unsigned level)</td></tr>
<tr class="memdesc:a15ec7e76572f925b9e206018fd5d22e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the GPIO level, on or off. Arduino style: digitalWrite.  <a href="#a15ec7e76572f925b9e206018fd5d22e9">More...</a><br /></td></tr>
<tr class="separator:a15ec7e76572f925b9e206018fd5d22e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbdda01d8935cc2c2826747200b369cf"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#afbdda01d8935cc2c2826747200b369cf">callback</a> (void *arg)</td></tr>
<tr class="separator:afbdda01d8935cc2c2826747200b369cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0fe13b9811377a2f2fec9921795fb8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#ac0fe13b9811377a2f2fec9921795fb8f">gpioSetISRFunc</a> (unsigned gpio, unsigned edge, unsigned debounce, unsigned long *timestamp, void(*f)())</td></tr>
<tr class="memdesc:ac0fe13b9811377a2f2fec9921795fb8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a function to be called (a callback) whenever the specified.  <a href="#ac0fe13b9811377a2f2fec9921795fb8f">More...</a><br /></td></tr>
<tr class="separator:ac0fe13b9811377a2f2fec9921795fb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982f8292ecf78abc5bdeeb330a2e0a05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a982f8292ecf78abc5bdeeb330a2e0a05">gpioSetPWMfrequency</a> (unsigned gpio, unsigned frequency)</td></tr>
<tr class="memdesc:a982f8292ecf78abc5bdeeb330a2e0a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the frequency in hertz to be used for the GPIO.  <a href="#a982f8292ecf78abc5bdeeb330a2e0a05">More...</a><br /></td></tr>
<tr class="separator:a982f8292ecf78abc5bdeeb330a2e0a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81675c68b04f3c19be1f743eae7f2136"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a> (unsigned gpio, unsigned dutycycle)</td></tr>
<tr class="memdesc:a81675c68b04f3c19be1f743eae7f2136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts PWM on the GPIO, dutycycle between 0 (off) and range (fully on). Arduino style: analogWrite.  <a href="#a81675c68b04f3c19be1f743eae7f2136">More...</a><br /></td></tr>
<tr class="separator:a81675c68b04f3c19be1f743eae7f2136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570ae32260ca8caf96370deae3c39e24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a570ae32260ca8caf96370deae3c39e24">i2c_smbus_access</a> (int file, char read_write, __u8 command, int size, union i2c_smbus_data *data)</td></tr>
<tr class="separator:a570ae32260ca8caf96370deae3c39e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4b600818f342b2723043fb9fd594c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#aaf4b600818f342b2723043fb9fd594c0">i2cOpen</a> (unsigned i2cBus, unsigned i2cFlags)</td></tr>
<tr class="memdesc:aaf4b600818f342b2723043fb9fd594c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns a handle for the device at the address on the I2C bus.  <a href="#aaf4b600818f342b2723043fb9fd594c0">More...</a><br /></td></tr>
<tr class="separator:aaf4b600818f342b2723043fb9fd594c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac119696ea99a19576c6fe858bb8a031"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#aac119696ea99a19576c6fe858bb8a031">i2cClose</a> (unsigned handle)</td></tr>
<tr class="memdesc:aac119696ea99a19576c6fe858bb8a031"><td class="mdescLeft">&#160;</td><td class="mdescRight">This closes the I2C device associated with the handle.  <a href="#aac119696ea99a19576c6fe858bb8a031">More...</a><br /></td></tr>
<tr class="separator:aac119696ea99a19576c6fe858bb8a031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cec2380fb349274d58e661e3d14fb5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a7cec2380fb349274d58e661e3d14fb5c">i2cWriteByteData</a> (unsigned handle, unsigned i2cAddr, unsigned reg, unsigned bVal)</td></tr>
<tr class="memdesc:a7cec2380fb349274d58e661e3d14fb5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This writes a single byte to the specified register of the device associated with handle.  <a href="#a7cec2380fb349274d58e661e3d14fb5c">More...</a><br /></td></tr>
<tr class="separator:a7cec2380fb349274d58e661e3d14fb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9895d7a018d90a9d16b404731debd6d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a9895d7a018d90a9d16b404731debd6d6">i2cReadByteData</a> (unsigned handle, unsigned i2cAddr, unsigned reg)</td></tr>
<tr class="memdesc:a9895d7a018d90a9d16b404731debd6d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This reads a single byte from the specified register of the device associated with handle.  <a href="#a9895d7a018d90a9d16b404731debd6d6">More...</a><br /></td></tr>
<tr class="separator:a9895d7a018d90a9d16b404731debd6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2532ad45eb33d8d476c4d6036f694702"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a2532ad45eb33d8d476c4d6036f694702">spiOpen</a> (unsigned spiChan, unsigned speed, unsigned mode, unsigned cs_delay, unsigned bits_word, unsigned lsb_first, unsigned cs_change)</td></tr>
<tr class="memdesc:a2532ad45eb33d8d476c4d6036f694702"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns a handle for the SPI device on the channel. Data will be transferred at baud bits per second. The flags may be used to modify the default behaviour of a 4-wire operation, mode 0, active low chip select. There are 2 SPI channels SPI1 &amp; SPI2. The pins used are given in the following table.  <a href="#a2532ad45eb33d8d476c4d6036f694702">More...</a><br /></td></tr>
<tr class="separator:a2532ad45eb33d8d476c4d6036f694702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb213bb27196cab00718d2fdfb33688"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a9fb213bb27196cab00718d2fdfb33688">spiClose</a> (unsigned handle)</td></tr>
<tr class="memdesc:a9fb213bb27196cab00718d2fdfb33688"><td class="mdescLeft">&#160;</td><td class="mdescRight">This functions closes the SPI device identified by the handle.  <a href="#a9fb213bb27196cab00718d2fdfb33688">More...</a><br /></td></tr>
<tr class="separator:a9fb213bb27196cab00718d2fdfb33688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e92eb729c89f2a9a893adf83251dc8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a96e92eb729c89f2a9a893adf83251dc8">spiXfer</a> (unsigned handle, char *txBuf, char *rxBuf, unsigned len)</td></tr>
<tr class="memdesc:a96e92eb729c89f2a9a893adf83251dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transfers count bytes of data from txBuf to the SPI device associated with the handle. Simultaneously len words of data are read from the device and placed in rxBuf.  <a href="#a96e92eb729c89f2a9a893adf83251dc8">More...</a><br /></td></tr>
<tr class="separator:a96e92eb729c89f2a9a893adf83251dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a95f895054e244bb1e5e38f2864512e81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jetgpio_8h.html#acd0adad7b2c999c658b5032d131b9268">PISRFunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jetgpio_8c.html#a95f895054e244bb1e5e38f2864512e81">ISRFunc_CFG</a> [41]</td></tr>
<tr class="separator:a95f895054e244bb1e5e38f2864512e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="afbdda01d8935cc2c2826747200b369cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbdda01d8935cc2c2826747200b369cf">&#9670;&nbsp;</a></span>callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a80d84e5dd32fd8ec04cb0370eab0a5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d84e5dd32fd8ec04cb0370eab0a5b0">&#9670;&nbsp;</a></span>gpioInitialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioInitialise </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the library. gpioInitialise must be called before using the other library functions, it stores the status of all the relevant registers before using/modifying them. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"> <span class="keywordflow">if</span> (<a class="code" href="jetgpio_8c.html#a80d84e5dd32fd8ec04cb0370eab0a5b0">gpioInitialise</a>() &lt; 0)</div><div class="line">{</div><div class="line">  <span class="comment">// jetgpio initialisation failed.</span></div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">  <span class="comment">// jetgpio initialised okay.</span></div><div class="line">} </div></div><!-- fragment --> 
</div>
</div>
<a id="a81675c68b04f3c19be1f743eae7f2136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81675c68b04f3c19be1f743eae7f2136">&#9670;&nbsp;</a></span>gpioPWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioPWM </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>dutycycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts PWM on the GPIO, dutycycle between 0 (off) and range (fully on). Arduino style: analogWrite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>32, 33 </td></tr>
    <tr><td class="paramname">dutycycle</td><td>0-256 (0 to 100%) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, a negative number otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a>(32, 256); <span class="comment">// Sets pin 32 full on.</span></div><div class="line"><a class="code" href="jetgpio_8c.html#a81675c68b04f3c19be1f743eae7f2136">gpioPWM</a>(33, 128); <span class="comment">// Sets pin 33 half on. </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a754d22c52d797f32f02c86863496b0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a754d22c52d797f32f02c86863496b0ec">&#9670;&nbsp;</a></span>gpioRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioRead </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the GPIO level, on or off, 0 or 1. Arduino style: digitalRead. Wheter a pin has been set as input or output it can be read with this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the GPIO level if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">printf(<span class="stringliteral">&quot;pin 24 is level %d&quot;</span>, <a class="code" href="jetgpio_8c.html#a754d22c52d797f32f02c86863496b0ec">gpioRead</a>(24)); </div></div><!-- fragment --> 
</div>
</div>
<a id="ac0fe13b9811377a2f2fec9921795fb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0fe13b9811377a2f2fec9921795fb8f">&#9670;&nbsp;</a></span>gpioSetISRFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetISRFunc </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>edge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>debounce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a function to be called (a callback) whenever the specified. </p>
<p>GPIO interrupt occurs. This function will start a thread that will monitor the status of the interrupt.One function may be registered per GPIO. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">edge</td><td>RISING_EDGE, FALLING_EDGE, or EITHER_EDGE </td></tr>
    <tr><td class="paramname">debounce</td><td>0-1000 useconds, to avoid bouncing specially on mechanical inputs </td></tr>
    <tr><td class="paramname">timestamp</td><td>timestamp of the detected edge in nanoseconds in EPOCH format </td></tr>
    <tr><td class="paramname">f</td><td>the callback function, this will be execute if an edge is detected in the selected pin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#ac0fe13b9811377a2f2fec9921795fb8f">gpioSetISRFunc</a>(3, <a class="code" href="jetgpio_8h.html#af13ff90bb3a97b9d46ae59f02c515b67">RISING_EDGE</a>, 1000, &amp;timestamp, &amp;<a class="code" href="jetgpio_8c.html#afbdda01d8935cc2c2826747200b369cf">callback</a>); <span class="comment">// Calls the &#39;callback&#39; function when a rising edge is detected on pin 3, with a debouncing time of 1000 useconds</span></div><div class="line">it also delivers the <span class="keyword">event</span> timestamp on the <span class="stringliteral">&quot;timestamp&quot;</span> variable in EPOCH format (nanoseconds) </div></div><!-- fragment --> 
</div>
</div>
<a id="ab343b74f5cb62baaaded18e4ff1ed939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab343b74f5cb62baaaded18e4ff1ed939">&#9670;&nbsp;</a></span>gpioSetMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetMode </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the GPIO mode, typically input or output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">mode</td><td>JET_INPUT, JET_OUTPUT </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, -1 otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a>(17, <a class="code" href="jetgpio_8h.html#aa5456a9b82ea8b5dc5e79c069dc29a7b">JET_INPUT</a>);  <span class="comment">// Sets pin 17 as input. </span></div></div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#ab343b74f5cb62baaaded18e4ff1ed939">gpioSetMode</a>(18, <a class="code" href="jetgpio_8h.html#ad589cca7b5afd4362dede39fc9af7159">JET_OUTPUT</a>); <span class="comment">// Sets pin 18 as output. </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a982f8292ecf78abc5bdeeb330a2e0a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982f8292ecf78abc5bdeeb330a2e0a05">&#9670;&nbsp;</a></span>gpioSetPWMfrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioSetPWMfrequency </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>frequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the frequency in hertz to be used for the GPIO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>32, 33 </td></tr>
    <tr><td class="paramname">frequency</td><td>25Hz to 200 kHz </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if OK, a negative number otherwise</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a982f8292ecf78abc5bdeeb330a2e0a05">gpioSetPWMfrequency</a>(32, 10000); <span class="comment">// Setting up PWM frequency=10kHz @ pin 32 </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a404d80a9a9292869c1a2b86f183b3774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404d80a9a9292869c1a2b86f183b3774">&#9670;&nbsp;</a></span>gpioTerminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpioTerminate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates the library. This function restores the used registers to their previous state and releases memory. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns nothing</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a404d80a9a9292869c1a2b86f183b3774">gpioTerminate</a>(); </div></div><!-- fragment --> 
</div>
</div>
<a id="a15ec7e76572f925b9e206018fd5d22e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ec7e76572f925b9e206018fd5d22e9">&#9670;&nbsp;</a></span>gpioWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gpioWrite </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the GPIO level, on or off. Arduino style: digitalWrite. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>3-40 </td></tr>
    <tr><td class="paramname">level</td><td>0-1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a15ec7e76572f925b9e206018fd5d22e9">gpioWrite</a>(24, 1); <span class="comment">// Sets pin 24 high. </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a570ae32260ca8caf96370deae3c39e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570ae32260ca8caf96370deae3c39e24">&#9670;&nbsp;</a></span>i2c_smbus_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2c_smbus_access </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>read_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union i2c_smbus_data *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aac119696ea99a19576c6fe858bb8a031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac119696ea99a19576c6fe858bb8a031">&#9670;&nbsp;</a></span>i2cClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cClose </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This closes the I2C device associated with the handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#aac119696ea99a19576c6fe858bb8a031">i2cClose</a>(MPU6050); <span class="comment">//Closing previously opened connection </span></div></div><!-- fragment --> 
</div>
</div>
<a id="aaf4b600818f342b2723043fb9fd594c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4b600818f342b2723043fb9fd594c0">&#9670;&nbsp;</a></span>i2cOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cOpen </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cBus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This returns a handle for the device at the address on the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cBus</td><td>0 or 1, 0 are pins 27 (SDA) &amp; 28 (SCL), 1 are pins 3(SDA) &amp; 5(SCL) Flags allow you to change the bus speed: </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>0 -&gt; 100 kHz </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>1 -&gt; 400 kHz </td></tr>
    <tr><td class="paramname">i2cFlags</td><td>2 -&gt; 1 MHz </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a handle with the I2C bus number being opened (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> MPU6050 = <a class="code" href="jetgpio_8c.html#aaf4b600818f342b2723043fb9fd594c0">i2cOpen</a>(0,0); <span class="comment">//Opening a connection on pins 27/28 at speed 100kHz </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a9895d7a018d90a9d16b404731debd6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9895d7a018d90a9d16b404731debd6d6">&#9670;&nbsp;</a></span>i2cReadByteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cReadByteData </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cReg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This reads a single byte from the specified register of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the byte read (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">gyro_x_H = <a class="code" href="jetgpio_8c.html#a9895d7a018d90a9d16b404731debd6d6">i2cReadByteData</a>(MPU6050, 0x68, 0x43); <span class="comment">// getting register 0x43 out of opened connection MPU6050 with i2C address 0x68 </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a7cec2380fb349274d58e661e3d14fb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cec2380fb349274d58e661e3d14fb5c">&#9670;&nbsp;</a></span>i2cWriteByteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i2cWriteByteData </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>i2cReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This writes a single byte to the specified register of the device associated with handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>i2cOpen</em>] </td></tr>
    <tr><td class="paramname">i2cAddr</td><td>0-0x7F, the I2C slave address </td></tr>
    <tr><td class="paramname">i2cReg</td><td>0-255, the register to write </td></tr>
    <tr><td class="paramname">bVal</td><td>0-0xFF, the value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, negative number otherwise</dd></dl>
<div class="fragment"><div class="line">writestat = <a class="code" href="jetgpio_8c.html#a7cec2380fb349274d58e661e3d14fb5c">i2cWriteByteData</a>(MPU6050, 0x68, 0x1B, 0x00); <span class="comment">// writing 0x00 to register address 0x1B on opened chanel MPU6050 with i2C address 0x68 </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a9fb213bb27196cab00718d2fdfb33688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb213bb27196cab00718d2fdfb33688">&#9670;&nbsp;</a></span>spiClose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiClose </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This functions closes the SPI device identified by the handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>spiOpen</em>] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a9fb213bb27196cab00718d2fdfb33688">spiClose</a>(SPI_init); <span class="comment">//closing previously opened spi port with handle SPI_init </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a2532ad45eb33d8d476c4d6036f694702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2532ad45eb33d8d476c4d6036f694702">&#9670;&nbsp;</a></span>spiOpen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiOpen </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>spiChan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>cs_delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>bits_word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lsb_first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>cs_change</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns a handle for the SPI device on the channel. Data will be transferred at baud bits per second. The flags may be used to modify the default behaviour of a 4-wire operation, mode 0, active low chip select. There are 2 SPI channels SPI1 &amp; SPI2. The pins used are given in the following table. </p>
<table class="doxtable">
<tr>
<th>Port </th><th>MISO </th><th>MOSI </th><th>SCLK </th><th>CS0 </th><th>CS1  </th></tr>
<tr>
<td>SPI1 </td><td>21 </td><td>19 </td><td>23 </td><td>24 </td><td>26 </td></tr>
<tr>
<td>SPI2 </td><td>22 </td><td>37 </td><td>13 </td><td>18 </td><td>16 </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spiChan</td><td>0-1 (0 stands for SPI1 and 1 for SPI2) </td></tr>
    <tr><td class="paramname">speed</td><td>up to 50M (beyond that expect problems, actually we are not going beyond that) </td></tr>
    <tr><td class="paramname">mode</td><td>defines the SPI mode</td></tr>
  </table>
  </dd>
</dl>
<table class="doxtable">
<tr>
<th>Mode </th><th>POL </th><th>PHA  </th></tr>
<tr>
<td>0 </td><td>0 </td><td>0 </td></tr>
<tr>
<td>1 </td><td>0 </td><td>1 </td></tr>
<tr>
<td>2 </td><td>1 </td><td>0 </td></tr>
<tr>
<td>3 </td><td>1 </td><td>1 </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cs_delay</td><td>delay if nonzero, how long to delay after the last bit transfer in us before optionally deselecting the device before the next transfer </td></tr>
    <tr><td class="paramname">bits_word</td><td>bits per word from 1 to 32 bits </td></tr>
    <tr><td class="paramname">lsb_first</td><td>is 1 if least significant bit first 0 otherwise </td></tr>
    <tr><td class="paramname">cs_change</td><td>is 1 to deselect device before starting the next transfer otherwise 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a handle (&gt;=0) if OK, otherwise a negative number</dd></dl>
<div class="fragment"><div class="line">SPI_init = <a class="code" href="jetgpio_8c.html#a2532ad45eb33d8d476c4d6036f694702">spiOpen</a>(1, 5000000, 0, 0, 8, 1, 1); <span class="comment">// SPI2 (pins 22/37, 500 kHz, mode 0, cs delay 0, 8 bits/word,lsb first 1, cs change 1 </span></div></div><!-- fragment --> 
</div>
</div>
<a id="a96e92eb729c89f2a9a893adf83251dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e92eb729c89f2a9a893adf83251dc8">&#9670;&nbsp;</a></span>spiXfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spiXfer </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>txBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rxBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transfers count bytes of data from txBuf to the SPI device associated with the handle. Simultaneously len words of data are read from the device and placed in rxBuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>&gt;=0, as returned by a call to [<em>spiOpen</em>] </td></tr>
    <tr><td class="paramname">txBuf</td><td>the data bytes to write </td></tr>
    <tr><td class="paramname">rxBuf</td><td>the received data bytes </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes transferred if OK, otherwise a negative number.</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="jetgpio_8c.html#a96e92eb729c89f2a9a893adf83251dc8">spiXfer</a>(SPI_init, tx, rx, 7); <span class="comment">//transfers tx data with a data lenght of 7 words and  receiving rx data from prevously opened connection with handle SPI_init </span></div></div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a95f895054e244bb1e5e38f2864512e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95f895054e244bb1e5e38f2864512e81">&#9670;&nbsp;</a></span>ISRFunc_CFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jetgpio_8h.html#acd0adad7b2c999c658b5032d131b9268">PISRFunc</a> ISRFunc_CFG[41]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="jetgpio_8c.html">jetgpio.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
